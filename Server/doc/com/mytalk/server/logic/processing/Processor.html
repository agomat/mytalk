<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_25) on Fri Jul 19 16:41:34 CEST 2013 -->
<title>Processor</title>
<meta name="date" content="2013-07-19">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="Processor";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/Processor.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../com/mytalk/server/logic/processing/IProcessor.html" title="interface in com.mytalk.server.logic.processing"><span class="strong">Prev Class</span></a></li>
<li>Next Class</li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?com/mytalk/server/logic/processing/Processor.html" target="_top">Frames</a></li>
<li><a href="Processor.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">com.mytalk.server.logic.processing</div>
<h2 title="Class Processor" class="title">Class Processor</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>com.mytalk.server.logic.processing.Processor</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><a href="../../../../../com/mytalk/server/logic/processing/IProcessor.html" title="interface in com.mytalk.server.logic.processing">IProcessor</a></dd>
</dl>
<hr>
<br>
<pre>public class <span class="strong">Processor</span>
extends java.lang.Object
implements <a href="../../../../../com/mytalk/server/logic/processing/IProcessor.html" title="interface in com.mytalk.server.logic.processing">IProcessor</a></pre>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../../../com/mytalk/server/logic/processing/Processor.html#Processor()">Processor</a></strong>()</code>
<div class="block">Costruttore della classe il quale inizializza la mappa mettendo come 
 indice il nome delle richiesta e come valore il nome della classe con il percorso intero,
 questo per ogni richiesta possibile</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>java.util.List&lt;<a href="../../../../../com/mytalk/server/communication/buffer/Message.html" title="class in com.mytalk.server.communication.buffer">Message</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../../com/mytalk/server/logic/processing/Processor.html#processRequest(com.mytalk.server.communication.buffer.Message)">processRequest</a></strong>(<a href="../../../../../com/mytalk/server/communication/buffer/Message.html" title="class in com.mytalk.server.communication.buffer">Message</a>&nbsp;message)</code>
<div class="block">Metodo che riceve in input un oggetto Message contenente l'indirizzo IP del client 
 che ha fatto la richiesta e una stringa JSON, e restituisce in output una lista di oggetti 
 Message contenenti la risposta alla richiesta fatta.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>equals, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="Processor()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>Processor</h4>
<pre>public&nbsp;Processor()</pre>
<div class="block">Costruttore della classe il quale inizializza la mappa mettendo come 
 indice il nome delle richiesta e come valore il nome della classe con il percorso intero,
 questo per ogni richiesta possibile</div>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="processRequest(com.mytalk.server.communication.buffer.Message)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>processRequest</h4>
<pre>public&nbsp;java.util.List&lt;<a href="../../../../../com/mytalk/server/communication/buffer/Message.html" title="class in com.mytalk.server.communication.buffer">Message</a>&gt;&nbsp;processRequest(<a href="../../../../../com/mytalk/server/communication/buffer/Message.html" title="class in com.mytalk.server.communication.buffer">Message</a>&nbsp;message)
                                       throws com.google.gson.JsonSyntaxException</pre>
<div class="block">Metodo che riceve in input un oggetto Message contenente l'indirizzo IP del client 
 che ha fatto la richiesta e una stringa JSON, e restituisce in output una lista di oggetti 
 Message contenenti la risposta alla richiesta fatta. La stringa presente nel oggetto 
 Message in input viene convertita, utilizzando l'oggetto convert, in un oggetto Java di 
 tipo ARI. Ottenuto l'oggetto ARI il metodo procede verificando la presenza dei dati di 
 autenticazione in tale oggetto, ai quali imposta il valore relativo all'indirizzo ip uguale 
 all'indirizzo ricevuto nell'oggetto Message; nel caso in cui l'autenticazione sia assente 
 viene creato un oggetto Authentication con il solo indirizzo ip impostato. Successivamente 
 si procede con l'identificazione del tipo di richiesta utilizzando la stringa relativa alla 
 richiesta, presente nell'oggetto ARI, come indice nella mappa; ottenuta la classe 
 corrispondente si utilizza la tecnica della riflessione propria di Java per invocare su 
 tale classe il metodo manage, il quale processera' la richiesta e i relativi dati associati
  alla parte informazione del pacchetto ARI e restituira' la risposta a tale richiesta sotto 
  forma di oggetto ARI. Una volta ottenuto l'oggetto di risposta, su di esso viene fatta 
  una verifica se il campo ip dei dati di autenticazione e' impostato oppure no, in modo 
  tale da determinare l'indirizzo ip di destinazione del pacchetto, nel caso in cui abbia 
  valore nullo allora l'ip di destinazione sara' quello del client che ha fatto la richiesta. 
  In seguito si esegue un primo controllo sul campo richiesta dell'oggetto di risposta serve 
  a determinare se la risposta non necessita di essere inviata a nessun client, ossia se si 
  tratta della risposta ad un logout o a un rifiuto di chiamata non riuscito poiche' al client 
  tale informazione non interessa; nel caso in cui non si tratti di queste risposte allora 
  viene creato e aggiunto alla lista da restituire un oggetto Message contenente la 
  conversione in stringa JSON del pacchetto ARI di risposta e l'indirizzo IP al quale mandare 
  tale risposta. Il secondo controllo si esegue sul campo richiesta dell'oggetto ARI di 
  risposta, al fine di determinare se il tipo di risposta indica un operazione di cambio 
  stato completata con successo, in tale caso e' necessario notificare il cambio di stato a 
  tutti gli altri utenti utilizzando il campo dati stateUpdate, il quale restituisce 
  un pacchetto da inviare contenente i dati dell'user che ha cambiato stato. Fatto cio' viene 
  creato ed aggiunto un oggetto di tipo Message contenente la conversione JSON del pacchetto 
  restituito da stateUpdate e come indirizzo ip la stringa broadcast la quale sara' 
  interpretata a dovere nella componente CSCOM1</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../../com/mytalk/server/logic/processing/IProcessor.html#processRequest(com.mytalk.server.communication.buffer.Message)">processRequest</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../com/mytalk/server/logic/processing/IProcessor.html" title="interface in com.mytalk.server.logic.processing">IProcessor</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>{Message}</code> - message e' l'oggetto che viene processato, il quale contiene le informazioni 
 relative alla richiesta da processare</dd>
<dt><span class="strong">Returns:</span></dt><dd>{List<Message>}</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>{JsonSyntaxException}</code> - viene sollevata se il JSON contenuto nell'oggetto message
 non e' ben formato sintatticamente</dd>
<dd><code>com.google.gson.JsonSyntaxException</code></dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/Processor.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../com/mytalk/server/logic/processing/IProcessor.html" title="interface in com.mytalk.server.logic.processing"><span class="strong">Prev Class</span></a></li>
<li>Next Class</li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?com/mytalk/server/logic/processing/Processor.html" target="_top">Frames</a></li>
<li><a href="Processor.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
